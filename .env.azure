# Azure App Service Configuration for Mimir API

## Application Settings (Environment Variables)
# Set these in Azure Portal > App Service > Configuration > Application Settings

AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com/
AZURE_OPENAI_API_KEY=your-actual-api-key-here
AZURE_OPENAI_API_VERSION=2024-12-01-preview
AZURE_OPENAI_DEPLOYMENT_NAME=your-deployment-name

# Database Configuration (Azure App Service paths)
CHROMADB_LOC=/tmp/chromadb

# Security Configuration
EC_ADMIN_PWD=your-bcrypt-hashed-password-here
JWT_SECRET_KEY=your-jwt-secret-key-here

# Application Configuration
APP_ENV=production
APP_HOST=0.0.0.0
APP_PORT=8000

# CORS origins (Azure App Service URLs)
CORS_ORIGINS=https://mimir-api-prod.azurewebsites.net,https://yourdomain.com

# Face Recognition Configuration
L2_FACE_THRESHOLD=0.85
SESSION_VALIDITY_MINUTES=1440

# File Upload Configuration
MAX_FILE_SIZE=50000000
ALLOWED_FILE_TYPES=application/pdf
TEMP_UPLOAD_DIR=/tmp/uploads

# Data Storage Configuration (Azure App Service paths)
USER_DATA_DIR=/tmp/data
UPLOAD_DIR=/tmp/uploads
FACE_TEMP_DIR=/tmp/face_images

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=/tmp/logs/mimir-api.log

# Azure App Service Specific
SCM_DO_BUILD_DURING_DEPLOYMENT=true
PYTHONPATH=/home/site/wwwroot
PORT=8000

# Development Configuration
DEBUG=false
AUTO_RELOAD=false

# Azure App Service Notes
# 1. Use /tmp directory for temporary files (persistent across restarts)
# 2. Static files are served by Azure App Service automatically
# 3. Logs are available in Azure Portal > App Service > Log stream
# 4. Environment variables are set in Configuration > Application Settings
# 5. Custom domains can be configured in Custom domains section
